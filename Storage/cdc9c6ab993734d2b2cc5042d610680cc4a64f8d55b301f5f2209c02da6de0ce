onse &res, Error &error) {
  {
    std::lock_guard<std::mutex> g